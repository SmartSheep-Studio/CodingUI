<template>
  <div style="width: 100%">
    <n-grid :x-gap="16" :y-gap="16">
      <n-gi :span="15">
        <n-card title="Statistics" style="height: 100%">
          <n-grid :y-gap="16">
            <!-- Currencies -->
            <n-gi :span="8">
              <n-statistic label="Source Codes" tabular-nums>
                <n-number-animation :from="0" :to="18561" />
                <template #prefix>
                  <n-icon>
                    <CodeSandboxCircleFilled />
                  </n-icon>
                </template>
              </n-statistic>
            </n-gi>
            <n-gi :span="8">
              <n-statistic label="Recommend Points" tabular-nums>
                <n-number-animation :from="0" :to="816154575" />
                <template #prefix>
                  <n-icon>
                    <LikeFilled />
                  </n-icon>
                </template>
              </n-statistic>
            </n-gi>
            <n-gi :span="8">
              <n-statistic label="Code Coins" tabular-nums>
                <n-number-animation :from="0" :to="9456155525" />
                <template #prefix>
                  <n-icon>
                    <DollarCircleFilled />
                  </n-icon>
                </template>
              </n-statistic>
            </n-gi>

            <!-- Player States -->
            <n-gi :span="8">
              <n-statistic label="Rational" tabular-nums>
                <n-number-animation :from="0" :to="86" />
                <template #prefix>
                  <n-icon>
                    <BulbFilled />
                  </n-icon>
                </template>
                <template #suffix> / 86 </template>
              </n-statistic>
            </n-gi>
            <n-gi :span="8">
              <n-statistic label="Energy" tabular-nums>
                <n-number-animation :from="0" :to="1008" />
                <template #prefix>
                  <n-icon>
                    <DeploymentUnitOutlined />
                  </n-icon>
                </template>
                <template #suffix> / 1290</template>
              </n-statistic>
            </n-gi>
            <n-gi :span="8">
              <n-statistic label="Triangle Rune" tabular-nums>
                <n-number-animation :from="0" :to="100" />
                <template #prefix>
                  <n-icon>
                    <HeatMapOutlined />
                  </n-icon>
                </template>
                <template #suffix> / 100</template>
              </n-statistic>
            </n-gi>

            <!-- Statistics -->
            <n-gi :span="24">
              <div id="statistics-chart" style="height: 310px; width: 100%; margin-top: 15px"></div>
            </n-gi>
          </n-grid>
        </n-card>
      </n-gi>
      <n-gi :span="9">
        <n-card title="Experience Road" embedded style="height: 100%">
          <n-card>
            <n-grid>
              <n-gi :span="10">
                <n-progress type="circle" :percentage="90">
                  <div style="text-align: center">
                    <span style="font-size: 22px">Rank <br /> <b>1st</b></span>
                  </div>
                </n-progress>
              </n-gi>
              <n-gi :span="14">
                <ol>
                  <li>LittleSheep (You)</li>
                  <li>Deepsea</li>
                  <li>æˆ‘é¡¶ä½ ä¸ªè‚º</li>
                  <b>......</b>
                </ol>
              </n-gi>
            </n-grid>
          </n-card>
          <n-card style="margin-top: 16px">
            <span>Season <b>ZERO</b> Will Ending After <b>39:59:01</b></span>
            <br />
            <ol>
              <span style="font-size: 16px"><b>Your rewards</b></span>
              <li>CodingLand ship model</li>
              <li>Source Codes *100</li>
              <li>Code Coins *80,000</li>
            </ol>
          </n-card>
          <n-grid :y-gap="8" style="padding-top: 12px">
            <n-gi :span="24">
              <n-button style="width: 100%">Operation</n-button>
            </n-gi>
            <n-gi :span="24">
              <n-button style="width: 100%">Free Mode</n-button>
            </n-gi>
            <n-gi :span="24">
              <n-button style="width: 100%">Mining Plant</n-button>
            </n-gi>
          </n-grid>
        </n-card>
      </n-gi>
      <n-gi :span="15">
        <n-card title="Recent Activity" style="height: 100%">
          <n-list bordered>
            <n-list-item>
              <template #prefix>
                <span>2021</span>
              </template>
              <span>Collect <b>Source Codes *700</b> In Season <b>BETA</b></span>
              <br />
              <span>Collect <b>Source Codes *10000</b> In Season <b>Alpha</b></span>
              <br />
              <span>Collect <b>Source Codes *120</b> In
                <b>Rougulike: Welding</b></span>
              <br />
              <span>Collect <b>Source Codes *120</b> In
                <b>Rougulike: Welding</b></span>
              <br />
              <span>Collect <b>Source Codes *120</b> In
                <b>Rougulike: Welding</b></span>
              <br />
              <span>Collect <b>Source Codes *120</b> In
                <b>Rougulike: Welding</b></span>
              <br />
              <span>Collect <b>Source Codes *120</b> In
                <b>Rougulike: Welding</b></span>
            </n-list-item>
          </n-list>
        </n-card>
      </n-gi>
      <n-gi :span="9">
        <n-card title="Announcements & Events" embedded>
          <n-card>
            <n-collapse>
              <n-collapse-item title="ZERO èµ›å­£å¼€æ”¾" name="new-season-zero">
                <template #header-extra>ğŸ¥³</template>
                <div>
                  <span>ç»éªŒä¹‹è·¯ ZERO èµ›å­£å¼€æ”¾æŒ‘æˆ˜ï¼</span> <br />
                  <span>ç°åœ¨å„ä½ Coder
                    å¯ä»¥åœ¨ä¸ªäººä»ªè¡¨ç›˜ä¸Šçœ‹è§ç°åœ¨çš„ç»éªŒä¹‹è·¯æ’åã€‚ç»éªŒä¹‹è·¯æ’åä»…é™è¾¾åˆ°
                    Lv50 åŠä»¥ä¸Šçš„ Coder å‚åŠ ã€‚èµ›å­£ä¼šåœ¨ 2022/5/15 åˆ° 2022/7/1
                    å¼€æ”¾æŒ‘æˆ˜ã€‚</span>
                  <br />
                  <span>åœ¨æŒ‘æˆ˜æˆªæ­¢åæˆ‘ä»¬ä¼šæŒ‰ç…§ç»éªŒä¹‹è·¯ä¸Šçš„å¥–å“å‘æ”¾åˆ°å¤§å®¶çš„ Bank
                    ä¸­ã€‚å¹¶ä¸”ç­‰çº§ä¼šä¼šæ»šåˆ° Lv50
                    MAX/MAXã€‚ç­‰å¾…ä¸‹ä¸€æ¬¡ç»éªŒä¹‹è·¯ã€‚</span>
                </div>
              </n-collapse-item>
              <n-collapse-item title="æ›´æ–°å…‘æ¢è§„åˆ™" name="updatelogs-exchangerule">
                <template #header-extra>ğŸ¤©</template>
                <div>
                  <span>åœ¨ 2022/5/1 ä¹‹åçš„æ¨èç‚¹æ•°å…‘æ¢æºä»£ç è§„åˆ™å˜æ›´</span>
                  <br />
                  <span>å…‘æ¢å…¬å¼ç”±åŸæœ¬çš„
                    <code>æ¨èç­‰æ•° *(2X å¼€å‘è€…ç­‰çº§) = æºä»£ç  *1</code> æ›´æ”¹è‡³
                    <code>æ¨èç­‰æ•° *500 = æºä»£ç  *1</code></span>
                  <br />
                  <span>é¡ºä¾¿æé†’ï¼šä½¿ç”¨éæ³•æ‰‹æ®µç ´åæ­¤æ´»åŠ¨å¹³è¡¡è€…ï¼Œ<b>æ°¸ä¹…å°å·</b></span>
                </div>
              </n-collapse-item>
              <n-collapse-item title="é‡æ„æ›´æ–°å…¬å‘Š" name="updatelogs-refactor">
                <template #header-extra>ğŸš€</template>
                <div>
                  <span>LumbaShark ä¼¦å·´é²¨ç°åœ¨å·²ç»åœæ­¢æ›´æ–°ï¼ŒCodingLand
                    å°†å…¨ç›˜æ›¿ä»£ï¼ˆé‡æ„ï¼‰</span>
                  <br />
                  <span>è¯¦ç»†å…¬å‘Š ğŸ‘‰
                    <n-a href="https://www.smartsheep.space/devlogs/codingland-devlog01/">ä¼ é€é—¨</n-a>
                  </span>
                  <br />
                </div>
              </n-collapse-item>
            </n-collapse>
          </n-card>
        </n-card>
      </n-gi>
    </n-grid>
  </div>
</template>

<script lang="ts" setup>
import {
  NGrid,
  NGi,
  NCard,
  NStatistic,
  NNumberAnimation,
  NIcon,
  NButton,
  NProgress,
  NList,
  NListItem,
  NCollapse,
  NCollapseItem,
  NA,
} from "naive-ui";
import {
  CodeSandboxCircleFilled,
  LikeFilled,
  DollarCircleFilled,
  BulbFilled,
  DeploymentUnitOutlined,
  HeatMapOutlined,
} from "@vicons/antd";
import * as echarts from "echarts";
import { onMounted, reactive } from "vue";

// Charts
const chart: any = reactive({
  id: "statistics-chart",
  chart: null,
  options: {
    tooltip: {
      trigger: "axis",
      axisPointer: {
        type: "cross",
        label: {
          backgroundColor: "#6a7985",
        },
      },
    },
    legend: {
      data: ["Source Codes", "Recommend Points", "Code Coins"],
    },
    toolbox: {
      feature: {
        saveAsImage: {},
      },
    },
    grid: {
      left: "3%",
      right: "4%",
      bottom: "3%",
      containLabel: true,
    },
    xAxis: [
      {
        type: "category",
        boundaryGap: false,
        data: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "June",
          "July",
          "Aug",
          "Sept",
          "Oct",
          "Nov",
          "Dec",
        ],
      },
    ],
    yAxis: [
      {
        type: "value",
      },
    ],
    series: [
      {
        name: "Source Codes",
        type: "line",
        stack: "Total",
        areaStyle: {},
        emphasis: {
          focus: "series",
        },
        data: [120, 132, 101, 134, 90, 230, 210, 815, 145, 123, 224, 441],
      },
      {
        name: "Recommend Points",
        type: "line",
        stack: "Total",
        areaStyle: {},
        emphasis: {
          focus: "series",
        },
        data: [220, 182, 191, 234, 991, 330, 415, 917, 57, 941, 294, 14],
      },
      {
        name: "Code Coins",
        type: "line",
        stack: "Total",
        areaStyle: {},
        emphasis: {
          focus: "series",
        },
        data: [220, 182, 191, 234, 290, 330, 310, 14, 1245, 144, 145, 1],
      },
    ],
  },
});

onMounted(() => {
  // @ts-ignore
  chart.chart = echarts.init(document.getElementById(chart.id), "light");
  chart.chart.setOption(chart.options);
});
</script>
